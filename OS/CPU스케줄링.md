# CPU 스케줄링 개요

- 운영체제가 프로세스들에게 공정하고 합리적으로 CPU 자원을 분배하는 것을 CPU 스케줄링이라고 한다.

## 프로세스 우선순위

- 우선순위가 높은 프로세스란 빨리 처리해야하는 프로세스들을 의미한다.
- 우선순위가 높은 프로세스는 입출력 작업이 많은 프로세스가 있다.
- 비디오 재생이나 디스크 백업 작업을 담당하는 프로세스와 같이 입출력 작업이 많은 프로세스를 입출력 집중 프로세스라고 한다.
- 복잡한 수학 연산, 컴파일, 그래픽 처리 작업을 담당하는 프로세스와 같이 CPU작업이 많은 프로세스를 CPU 집중 프로세스라고 한다.

> CPU 버스트와 입출력 버스트
>
> - CPU를 이용하는 작업을 CPU 버스트라고한다.
> - 입출력장치를 기다리는 작업을 입출력 버스트라고 한다.
> - 프로세스는 일반적으로 CPU버스트와 입출력 버스트를 반복하여 실행된다.

- 프로세스의 중요도에 맞게 프로세스가 CPU를 이용할 수 있도록 하기 위해 운영체제는 프로세스마다 우선순위를 부여한다.
- 우선순위가 높은 프로세스는 더 빨리 더 자주 실행된다.

## 스케줄링 큐

- CPU를 사용하고 싶은 프로세스들, 메모리에 적재되고 싶은 프로세스들, 특정 입출력장치를 사용하고 싶은 프로세스들을 모두 줄세우는 것을 스케줄링 큐로 구현하고 관리한다.
- 운영체제는 메모리로 적재되고 싶은 스로세스들을 큐에 삽입하여 줄을 세우고 CPU를 이용하고 싶은 프로세스들 또한 큐에 삽입하여 줄을 세우고, 특정 입출력장치를 이용하고 싶은 프로세들 역시 큐에 삽입하여 줄을 세운다.
- 준비큐는 CPU를 이용하고 싶은 프로세스들이 서는 줄을 의미한다.
- 대기큐는 입출력장치를 이용하기 위해 대기 상태에 접어든 프로세스들이 서는 줄을 의미한다.

## 선점형과 비선점형 스케줄링

- 선점형 스케줄링은 프로세스가 CPU를 비롯한 자원을 사용하고 있더라도 운영체제가 프로세스로부터 자원을 강제로 빼앗아 다른 프로세스에 할당할 수 있는 스케줄링 방식이다.
- 비선점형 스케줄링은 하나의 프로세스가 자원을 사용하고 있다면 그 프로세스가 종료되거나 스스로 대기 상태에 접어들기 전까지 다른 프로세스가 끼어들 수 없는 스케줄링 방식이다.
- 선점형 스케줄링은 더 급한 프로세스가 언제든 끼어들어 사용할 수 있는 스케줄링 방식이다.
  - 어느 한 프로세스의 자원 독점을 막고 프로세스들에 골고루 자원을 분배할 수 있다.
  - 문맥 교환 과정에서 오버헤드가 발생할 수 있다.
- 비선점현 스케줄링은 문맥교환의 횟수가 선점형 스케줄링보다 적기 때문에 문맥 교환에서 발생하는 오버헤드는 선점형 스케줄링보다 적다.
  - 하나의 프로세스가 자원을 사용 중이라면 당장 자원을 사용해야 하는 상황에서도 무작정 기다려야한다.
  - 모든 프로세스가 골고루 자원을 사용할 수 없다는 단점이 있다.

# CPU 스케줄링 알고리즘

## 선입 선처리 스케줄링

- FCFS 스케줄링이라고도 부른다.
- 준비 큐에 삽입된 순서대로 프로세스들을 처리하는 비선점형 스케줄링 방식이다.
- CPU를 먼저 요청한 프로세스부터 CPU를 할당하는 스케줄링 방식이다.

## 최단 작업 우선 스케줄링

- 준비 큐에 삽입된 프로세스들 중 CPU 이용 시간의 길이가 가장 짧은 프로세스부터 실행하는 스케줄링 방식이다.
- 비선점형 스케줄링 알고르짐으로 분류된다.

## 라운드 로빈 스케줄링

- 선입 선처리 스케줄링에 타임 슬라이스라는 개념이 더해진 스케줄링 방식이다.
- 타임슬라이스는 각 프로세스가 CPU를 사용할 수 있는 정해진 시간을 의미한다.
- 정해진 타임 슬라이스만큼의 시간 동안 돌아가며 CPU를 이용하는 선점형 스케줄링이다.

## 최소 잔여 시간 우선 스케줄링

- 최단 작업 우선 스케줄링 알고리즘과 라운드 로빈 알고리즘을 합친 스케줄링 방식이다.
- 최소 잔여 시간 우선 스케줄링 하에서 프로세스들은 정해진 타임 슬라이스만큼 CPU를 사용하되 CPU를 사용할 다음 프로세스로는 남아있는 작업 시간이 가장 적은 프로세스가 선택된다.

## 우선순위 스케줄링

- 프로세스들에 우선순위를 부여하고 가장 높은 우선순위를 가진 프로세스부터 실행하는 스케줄링 알고리즘이다.
- 우선순위가 같은 프로세스들은 선입 선처리로 스케줄링된다.
- 우선순위가 높은 프로세스를 우선하여 처리하는 방식이기에 우선순위가 낮은 프로세스는 우선순위가 높은 프로세스들에 의해 실행이 계속해서 연기될 수 있다.
- 에이징이란 오랫동안 대기한 프로세스의 우선순위를 점차 높이는 방식이다.
- 에이징 기법을 적용하면 우선순위가 낮아 마냥 기다리기만 하는 프로세스가 없어진다.
