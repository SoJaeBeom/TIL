# RAM의 특징

- RAM에는 실행할 프로그램의 명령어와 데이터가 저장된다.
- 전원을 끄면 저장된 내용이 사라지는 저장 장치를 휘발성 저장 장치라고 한다.
- 전원이 꺼져도 저장된 내용이 유지되는 저장 장치를 비휘발성 저장 장치라고 한다.
- 하드디스크나 SSD, CD-ROM, USB메모리와 같은 보조기억장치가 대표적인 비휘발성 저장 장치다.
- 보조기억장치인 비휘발성 저장 장치에는 보관할 대상을 저장하고 휘발성 저장장치인 RAM에는 실행할 대상을 저장한다.

## RAM의 용량과 성능

- RAM용량이 크면 많은 프로그램들을 동시에 빠르게 실행하는데 유리하다.
- RAM용량이 커지면 프로그램 실행 속도가 어느정도 증가하는 것은 맞지만 용량이 필요 이상으로 커졌을 때 속도가 그에 비례하여 증가하지는 않는다.

## RAM의 종류

- RAM의 종류에는 DRAM, SRAM, SDRAM, DDR SDRAM이 있다.

### DRAM

- Dynamic RAM의 준말이다.
- 저장된 데이터가 동적으로 변하는 RAM을 의미한다.
- DRAM은 시간이 지나면 저장된 데이터가 점차 사라지는 RAM이다.
- DRAM은 데이터의 소멸을 막기 위해 일정 주기로 데이터를 재활성화해야 한다.
- 우리가 일반적으로 메모리로써 사용하는 RAM은 DRAM이다.
- 소비전력이 비교적 낮고 저렴하고 집적도가 높기 때문에 대용량으로 설계하기가 용이하기 때문이다.

### SRAM

- Static RAM의 준말이다.
- 저장된 데이터가 변하지 않는 RAM을 의미한다.
- SRAM은 시간이 지나도 저장된 데이터가 사라지지 않는다.
- 주기적으로 데이터를 재활성화할 필요도 없다.
- SRAM은 DRAM보다 일반적으로 속도도 더 빠르다.
- SRAM은 DRAM보다 집적도가 낮고 소비전력도 크며 가격도 더 비싸기 때문이다.
- SRAM은 메모리가 아닌 대용량으로 만들어질 필요는 없지만 속도가 빨라야하는 저장 장치인 캐시 메모리에서 사용된다.

### SDRAM

- 클럭 신호와 동기화된 발전된 형태의 DRAM이다.
- 클럭에 맞춰 동작하며 클럭마다 CPU와 정보를 주고 받을 수 있는 DRAM이다.

### DDR SDRAM

- 최근 가장 흔히 사용되는 RAM이다.
- 대역폭을 넓혀 속도를 빠르게 만든 SDRAM이다.
  - 대역폭이란 데이터를 주고받는 길의 너비이다.
- 한 클럭당 하나씩 데이터를 주고받을 수 있는 SDRAM을 SDR SDRAM이라고 부른다.

## 물리주소와 논리주소

- 메모리에는 새롭게 실행되는 프로그램이 적재되고 실행이 끝난 프로그램은 삭제된다.
- 같은 프로그램을 실행하더라도 실행할 때마다 적재되는 주소가 달라질 수 있다.
- 주소에는 메모리가 사용하는 물리주소가 있고 CPU와 실행중인 프로그램이 사용하는 논리주소가 있다.
- 메모리가 사용하는 물리주소는 정보가 실제로 저장된 하드웨어상의 주소를 의미한다.
- CPU와 실행중인 프로그램이 사용하는 논리주소는 실행중인 프로그램 각각에게 부여된 0번지부터 시작되는 주소를 의미한다.
- CPU가 메모리와 상호작용하려면 논리주소와 물리주소 간의 변환이 이루어져야한다.
- 논리주소와 물리주소간의 변환은 CPU와 주소버스 사이에 위치한 메모리 관리 장치(MMU)라는 하드웨어에 의해 수행된다.
- 베이스 레지스터는 프로그램의 가장 작은 물리 주소, 프로그램의 첫 물리 주소를 저장한다.
- 논리 주소는 프로그램의 시작점으로부터 떨어진 거리다.

## 메모리 보호 기법

- 한계 레지스터는 다른 프로그램의 영역을 침범할 수 있는 명령어는 위험하기 때문에 논리 주소 범위를 벗어나는 명령어 실행을 방지하고 실행 중인 프로그램이 다른 프로그램에 영향을 받지 않도록 보호한다.
- 한계 레지스터는 논리 주소의 최대 크기를 저장한다.
- 프로그램의 물리 주소 범위는 베이스 레지스터 값 이상, 베이스 레지스터 값 + 한계 레지스터 값 미만이다.
- CPU가 한계 레지스터보다 높은 논리 주소에 접근하려고 하면 인터럽트를 발생시켜 실행을 중단한다.

## 저장 장치 계층 구조

- 각기 다른 용량과 성능의 저장 장치들을 계층화하여 표현한 구조이다.
- 위 계층으로 올라갈수록 CPU와 가깝고 용량은 작지만 빠른 저장 장치다.
- 아래 계층으로 내려갈수록 CPU와 멀고 용량은 크지만 느린 저장 장치다.
- 가격은 위 계층으로 올라갈수록 비싸고 아래 계층으로 내려갈수록 저렴하다.

## 캐시 메모리

- CPU가 메모리에 접근하는 속도는 레지스터에 접근하는 속도보다 느리다.
- 캐시 메모리는 CPU와 메모리 사이에 위치하고 레지스터보다 용량이 크고 메모리보다 빠른 SRAM 기반의 저장 장치다.
- 캐시 메모리는 CPU의 연산 속도와 메모리 접근 속도의 차이를 조금이나마 줄이기 위해 탄생했다.
- 코어와 가장 가까운 캐시 메모리를 L1캐시, 그다음 가까운 캐시 메모리를 L2캐시, 그다음 가까운 캐시 메모리를 L3캐시라고 부른다.
- 캐시 메모리의 용량은 L1, L2, L3 순으로 커지고 속도는 L3, L2, L1순으로 빨라지고 가격은 L3, L2, L1 순으로 비싸진다.
- CPU가 메모리 내에 데이터가 필요하다고 판단하면 우선 L1 캐시에 해당 데이터가 있는지를 확인하고 없다면 L2, L3 캐시 순으로 데이터를 검색한다.
- 멀티 코어 프로세서에서 L1캐시와 L2캐시는 코어마다 고유한 캐시 메모리로 할당되고, L3캐시는 여러 코어가 공유하는 형태로 사용된다.

## 참조 지역성 원리

- 캐시 메모리는 메모리보다 용량이 작다.
- 캐시 메모리는 CPU가 사용할 법한 대상을 예측하여 저장한다.
- 자주 사용될 것으로 예축한 데이터가 실제로 들어맞아 캐시 메모리 내 데이터가 CPU에서 활용될 경우를 캐시 히트라고 한다.
- 자주 사용될 것으로 예측하여 캐시 메모리에 저장했지만 예측이 틀려 메모리에서 필요한 데이터를 직접 가져와야 하는 경우를 캐시 미스라고 한다.
- 캐시 미스가 자주 발생하면 성능이 떨어지게 된다.
- 캐시가 히트되는 비율을 캐시 적중률이라고 한다.
  - 캐시 히트 횟수 / (캐시 히트 횟수 + 캐시 미스 횟수)
- 참조 지역성의 원리는 CPU가 메모리에 접근할 때의 주된 경향을 바탕으로 만들어진 원리이다.
- 시간 지역성은 최근에 접근했던 메모리 공간에 다시 접근하려는 경향이다.
- 공간 지역성은 접근한 메모리 공간 근처를 접근하려는 경향이다.
