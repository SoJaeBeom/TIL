# 타입의 모든것

- 타입(type)은 값과 이 값으로 할 수 있는 일의 집합이다.
  - 어떤 값이 T 타입이라면 이 값을 가지고 어떤 일을 할 수 있고 어떤 일을 할 수 없는지도 알 수 있다.
- 타입 검사기를 이용해 유효하지 않은 동작이 실행되는 일을 얘방하는 것이다.

```js
function squareOf(n: number) {
  return n * n;
}
```

- 타입 어노테이션이 없으면 매개변수에 제한이 없으므로 아무 타입이나 인수로 전달할 수 있다.
- 특정 타입만 와야 할 때 이를 명시할 수 있는 언어가 타입스트립트다.

### any

- 뭐든지 할 수 있지만 꼭 필요한 상황이 아니라면 사용하지 않는 것이 좋다.
- 타입이란 값과 값으로 수행할 수 있는 작업의 집합이다.
- any는 모든 값의 집합이므로 any는 모든것을 할 수 있다.
- any를 사용하면 값이 자바스크립트처럼 동작하기 시작하면서 타입 검사기가 동작하지 않는다.

### unknown

- 타입을 미리 알 수 없는 어떤 값이 있을 때 any 대신 unknown을 사용하면 좋다.
- any처럼 unknown도 모든 값을 대표하지만 unknown의 타입을 검사해 정제하기 전까지는 타입스크립트가 unknown 타입의 값을 사용할 수 없게 강제한다.

### boolean

> 타입 리터럴
>
> - 오직 하나의 값을 나타내는 타입이다.

- const 를 사용하면 타입스크립트는 그 변수의 값이 절대 변하지 않으리라는 사실을 알게 되어 해당 변수가 가질 수 있는 가장 좁은 타입으로 추론한다.

### bigint

- 라운딩 관련 에러 걱정없이 큰 정수를 처리할 수 있다.

### symbol

- 객체와 맵에서 문자열 키를 대신하는 용도로 사용한다.
- 만들어진 symbol은 고유하여 다른 symbol과 == 또는 ===로 비교했을 때 같지 않다록 판단된다.
  - 같은 이름으로 다른 symbol을 만들어도 마찬가지다.
- symbol도 symbol 타입으로 추론되거나 아니면 명시적으로 unique symbol을 정의할 수 있다.

### 객체

- 객체 타입은 객체의 형태를 정의한다.
- 객체 타입만으로는 {}로 만든 객체와 new를 사용해 만든 객체를 구분할 수 없다.
  - 자바스크립트가 구조 기반 타입을 갖도록 설계되었기 때문이다.
- 타입스크립트도 이름 기반 타입스타일보다는 자바스크립트 스타일을 선호한다.

> 구조 기반 타입화
>
> - 객체의 이름에 상관없이 객체가 어떤 프로퍼티를 갖고 있는지를 따진다.
> - 덕 타이핑이라고 한다.(겉포지만 보고 책을 판단하지 않는 것과 같은 원리다.)

- 객체를 const로 선언할 때 더 좁은 타입으로 추론하지 않는다.

> 확실한 할당(definite assignment)
>
> - 변수를 선언하고 나중에 초기화하는 상황에서 타입스크립트는 변수를 사용하기 전에 값을 할당하도록 강제한다.

> 인덱스 시그니처(index signature)
>
> - `[key: T]: U` 같은 문법이다.
> - 타입스크립트에 어떤 객체가 여러 키를 가질 수 있다.
> - 이 객체에서 모든 T 타입의 키는 U 타입의 값을 갖는다.
> - 명시적으로 정의한 키 외에 다양한 키를 객체에 안전하게 추가할 수 있다.

- 객체 타입을 정의할때 선택형(?)을 사용할 수 있다.
- readonly 한정자를 이용해 특정 필드를 읽기 전용으로 정의할 수 있다.
  - 정의한 필드에 초기값을 할당한 다음에는 그 값을 바꿀 수 없다.

### 타입 별칭

- 변수를 선언해서 값대신 변수로 칭하듯이 타입 별칭으로 타입을 가리킬 수 있다.

```ts
type Age = number;
type Person = {
  name: string;
  age: Age;
};
```

- 자바스크립트 변수 선언과 마찬가지로 하나의 타입을 두번 정의할 수 없다.
- let과 const처럼 타입별칭도 블록 영역에 정의된다.

### 유니온과 인터섹션 타입

- 유니온은 합집합, 인터섹션은 교집합이다.

## 배열

- 배열도 연결, 푸시, 검색, 슬라이스등을 지원하는 특별한 객체다.
- 묵시적 : 컴파일러에 의해 자동적으로
- 배열의 모든 항목이 같은 타입을 갖도록 설계하려 노력한다.
- 배열을 const로 만들면 타입스크립트는 타입을 더 좁게 추론하지 않는다.
- 빈 배열로 초기화하면 타입스크립트는 배열의 요소 타입을 알수 없으므로 any일 것으로 추측한다.

### 튜플

- 배열의 서브타입이다.
- 튜플은 길이가 고정되었고 각 인덱스의 타입이 알려진 배열의 일종이다.
- 튜플은 이형(이질적인) 배열을 안전하게 관리할 뿐 아니라 배열 타입의 길이도 조절한다.

### 읽기 전용 배열과 튜플

- readonly 배열 타입(읽기 전용 배열)은 명시적 타입 어노테이션으로 만들 수 있다.
- 읽기 전용 배열을 갱신하려면 .push, .splice처럼 내용을 바꾸는 동작 대신 .concat, .slice같이 내용을 바꾸지 않는 메서드를 사용해야 한다.
- 읽기 전용 배열은 스프레드, .slice등으로 배열을 조금만 바꿔도 우선 원래 배열을 복사해야 하므로 주의하지 않으면 응용 프로그램의 성능이 느려질 수 있다.

### null, undefined, void, never

- 타입스크립트에서 undefined 값의 타입은 오직 undefined뿐이고 null 값의 타입은 null뿐이다.
- undefined는 아직 정의하지 않았음을 의미한다.
- null은 값이 없다는 의미다.
- void는 명시적으로 아무것도 반환하지 않는 함수의 반환 타입을 가리킨다.
- never는 절대 반환하지 않는(예외를 던지거나 영원히 실행되는) 함수타입을 기리킨다.
- unknown이 모든 타입의 상위타입이다.
- never는 모든 타입의 서브타입이다.
