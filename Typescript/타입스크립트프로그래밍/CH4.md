# 함수

## 함수 선언과 호출

- 자바스크립트에서 함수는 일급 객체다.
  - 객체를 다루듯이 함수를 변수에 할당한다.
  - 함수를 다른 함수로 전달한다.
  - 함수에서 함수를 반환한다.
  - 객체와 프로토타입에 할당한다.
  - 함수에 프로퍼티를 기록한다.
  - 함수에 기록된 프로퍼티를 읽는다.
- 함수 매개변수의 타입은 명시적으로 정의한다.
- 반환타입은 자동으로 추론하지만 원하면 명시할 수 있다.
  - 타입스크립트가 반환 타입을 추론하도록 하는게 보통이다.

### 타입스크립트의 함수 선언 방식

- 이름을 붙인 함수

```ts
function greet(name: string) {
  return name;
}
```

- 함수 표현식

```ts
let greet2 = function (name: string) {
  return name;
};
```

- 화살표 함수 표현식

```ts
let greet3 = (name: string) => {
  return name;
};
```

- 단축형 화살표 함수 표현식

```ts
let greet4 = (name: string) => return name;
```

- 함수 생성자

```ts
let greet5 = new Function('name', name);

// 함수 생성자는 타입이 Function이다.
// Function 타입은 Function이름 뒤에 ()를 붙여서 호출할 수 있는 객체로 Function.prototype의 모든 프로토타입 메서드를 포함한다.
// 매개변수 타입과 반환타입을 지정하지 않았으므로 어떤 인수를 건네서도 호출을 할수 있기때문에 문제가 발생해도 처리할 수가없다.
```

### 선택적 매개변수와 기본 매개변수

- 함수에서도 ?를 이용해 선택적 매개변수를 지정할 수 있다.
- 필수 매개변수를 먼저 지정하고 선택적 매개변수를 뒤에 추가한다.
- 매개변수에 기본값을 지정할 수 있다.
- 호출자가 해당 매개변수에 값을 전달하지 않아도 되므로 매개변수를 선택적으로 만드는 것과 같다.

### 나머지 매개변수

- 인수를 여러개 받는 함수라면 그 목록을 배열 형태로 건넬 수도 있다.
- 가변 인자가 필요할 때 자바스크립트는 arguments객체를 통해 가능하다.
- arguments는 일종의 배열(순수한 배열은 아님)이므로 배열로 변환을 한 후에 .reduce 같은 내장 기능을 사용할 수 있다.
- 안전한 타입의 가변 인수 함수를 만들기 위해 나머지 매개변수를 사용할 수 있다.

### call, apply, bind

- 괄호로 함수를 호출할 수 있다.
- apply는 함수 안에서 값을 this로 한정하며 두번째 인수를 펼쳐 함수에 매개변수로 전달한다.
- call은 인수를 펼쳐 전달하지 않고 순서대로 전달한다.
- bind는 this인수를 함수의 인수 목록으로 한정한다.

### this의 타입

- this의 값은 함수를 어떻게 호출했는지에 따라 달라진다.
