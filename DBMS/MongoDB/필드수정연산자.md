## 필드 수정 연산자

- 다큐먼트의 필드를 수정하는 연산자들이다.

### \$inc

- 필드 값을 증가시키거나 감소시키는 연산자다.
- 양수면 증가, 음수면 감소한다.

```js
{
  $inc: {
    필드: 1
  }
} // 필드의 값을 1 증가
```

### \$mul

- 필드 값에 곱하는 연산자다.
- 1보다 큰 수를 곱하면 커지고, 1보다 작은 수를 곱하면 작아진다.
- $inc는 필드 안의 속성이었다면, 이번에는 필드가 $mul 안의 속성이다.

```js
{
  $mul: {
    필드: 2
  }
} // 필드의 값을 두배 증가
```

### \$rename

- 필드 이름을 바꾸는 연산자다.
- 여러 필드를 동시에 교체할 수 있다.

```js
{ $rename: { 필드1: 이름, 필드2: 이름, ... } }
```

### \$set

- 해당 필드 값을 다른 것으로 교체한다.
- 주로 Update문과 같이 쓰인다.

```js
{ $set: { 필드1: 값, 필드2: 값, ... } }
```

### \$setOnInsert

- \$set과 비슷한데 upsert(update + insert)의 경우에만 작동한다.
- 만약 upsert가 일어나지 않으면 아무 동작도 하지 않는다.

```js
{ $setOnInsert: { 필드1: 값, 필드2: 값, ... } }
```

### \$unset

- 해당 필드를 제거한다.
- 만약 배열의 요소를 \$unset한 경우에는 제거하진 않고 null로 교체한다.

```js
{ $unset: { 필드1: '', 필드2: '', ... } }
```

### \$min

- 필드의 값이 주어진 값보다 클 경우 새 값으로 교체한다.
- 만약 원래 값이 200이었고 \$min의 값이 150이었다면 150으로 바뀐다.
- 기존 기록을 경신하는 경우 사용된다.

```js
{ $min: { 필드1: 값, 필드2: 값, ... } }
```

### \$max

- 필드의 값이 주어진 값보다 작을 경우 새 값으로 교체한다.
- 만약 원래 값이 800이었고 \$max의 값이 950이라면, 950으로 바뀐다.
- 기존 기록을 경신하는 경우 사용된다.

```js
{ $max: { 필드1: 값, 필드2: 값, ... } }
```

### \$currentDate

- 해당 필드 값을 현재 날짜로 교체한다.
- 두 가지 타입의 현재 날짜가 있는데 하나는 기본적으로 쓰이는 Date이고 다른 하나는 Timestamp다.
- 기본 타입을 사용하려면 그냥 true하면 되고, timestamp 타입을 사용하려면 \$type 연산자를 사용해야 한다.

```js
{
  $currentDate: {
    필드: true
  }
}
{
  $currentDate: {
    필드: {
      $type: 'timestamp'
    }
  }
}
```
