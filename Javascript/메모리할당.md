## 자바스크립트에서의 메모리 할당
- 자바스크립트는 개발자들을 메모리 할당의 책임에서 해방시켜주었다.
- 자바스크립트는 변수 할당 시점에 메모리 할당을 스스로 수행한다.
```js
var n = 374; // 숫자에 대한 메모리 할당
var s = 'sessionstack'; // 문자에 대한 메모리 할당
var o = {
  a: 1,
  b: null
}; // 객체 및 그 값에 대한 메모리 할당
var a = [1, null, 'str'];  // (객체와 같음) 배열과 그 값에 대한
                           // 메모리 할당
function f(a) {
  return a + 3;
} // 함수에 대한 할당(함수는 호출할 수 있는 객체임)
// 함수 표현식 또한 객체를 할당함
someElement.addEventListener('click', function() {
  someElement.style.backgroundColor = 'blue';
}, false);
```
- 몇몇 함수 호출은 객체 할당의 결과를 가져오기도 한다.
```js
var d = new Date(); // Date객체 할당
var e = document.createElement('div'); // DOM 요소 할당
```
- 메소드는 새로운 값이나 객체를 할당할 수 있다.
```js
var s1 = 'sessionstack';
var s2 = s1.substr(0, 3); // s2는 새로운 문자열이 됨
// 문자열은 불변(immutable)이므로 자바스크립트는 메모리를 할당하지 않고 
// [0, 3]의 범위만 저장할 수도 있음
var a1 = ['str1', 'str2'];
var a2 = ['str3', 'str4'];
var a3 = a1.concat(a2); 
// 4개의 요소를 가진 새로운 배열은
// a1과 a2 요소의 연결이 됨
```

## 자바스크립트에서 메모리의 사용
- 자바스크립트에서 할당된 메모리를 사용하는 것은 기본적으로 그 메모리 내에서 읽거나 쓰는 것을 뜻한다.
- 객체의 속성이나 변수의 값을 읽거나 쓸 때 혹은 함수에 인수를 넘겨줄 때에도 일어난다.

## 메모리가 더 이상 필요하지 않을 때 놓아주기
- 이 단계가 바로 대부분의 메모리 관리 문제가 일어난다.
- 가장 어려운 작업은 할당된 메모리가 언제 더 이상 필요 없는지 알아내는 것이다.
- 프로그램 상에서 일정한 메모리가 더 이상 사용되지 않고 있으며 이를 반환해야 하는지를 프로그래머가 판단해야 할 때도 종종 있다.

- 고수준의 언어에는 가비지컬렉터(garbage collector)라는 소프트웨어가 내장되어 있는데 이것의 역할은 메모리 할당을 추적하고 언제 할당된 메모리가 더 이상 사용되지 않는지 파악해서 자동으로 반환하는 것이다.

- 대부분의 가비지컬렉터는 어떤 메모리를 가리키는 모든 변수가 스코프를 벗어나게 됐을 때 처럼 더 이상 접근 불가능한 메모리를 수집한다.

### 메모리 참조
- 가비지 컬렉션 알고리즘이 의존하고 있는 주요 개념은 참조(reference)이다.

- 메모리 관리의 관점에서는 어떤 객체가 다른 객체에 (명시적이든 암묵적이든) 접근할 수 있으면 다른 객체를 참조한다고 말한다.
- 예를 들어 자바스크립트 객체는 자신의 프로토타입에 대한 (암묵적) 참조를 갖고 있으며 자신의 속성 값에 대한 (명시적) 참조도 갖고 있다.

- ‘객체’라는 것의 개념은 일반적인 자바스크립트 객체에서 좀 더 큰 범위로 확장되어 함수 스코프(function scope)나 글로벌 렉시컬 스코프(lexical scope)까지도 포함하는 것이 된다.
> 렉시컬 스코핑은 변수 이름이 중첩된 함수에서 해석되는 방식을 정의한다. 중첩되어 있는 더 안 쪽의 함수는 부모 함수가 값을 반환한 다음에도 부모 함수의 스코프를 포함하고 있다.

### 참조횟수계산 가비지컬렉션
객체는 만약 그것을 가리키는 참조가 하나도 없는 경우 가비지컬렉션 대상(garbage collectible)으로 간주된다.