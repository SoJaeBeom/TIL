# 데이터 불변성

- 새로운 원시 데이터가 기존 메모리 주소에 들어있다면 새로운 메모리에 할당하는 것이 아니라 기존 메모리 주소를 바라보게 하는 것

  > 원시 데이터 : 기본데이터 String, Number, Boolean, undefined, null  
  > 참조 데이터 : Object, Array, Function

### 원시 데이터

- 원시 데이터는 데이터 자체가 변하지 않는 성질을 가지고 있다.
- 생긴게 다르면 다른 데이터다.

### 참조 데이터

- 참조 데이터는 생긴 것이 같더라도 같은 데이터가 아닐 수 있다.
- 새로운 값을 만들 때 마다 새로운 메모리 주소에 할당되는 구조이다.(가변성)
- 할당 연산자를 하면 메모리의 참조 주소만 변화가 된다.

### 얕은 복제 (Shallow Clone)

- Object.assign(obj)
  - 객체를 하나의 트리 구조로 봤을때 최상위 레벨의 속성만 복사를 한다.
- 객체 트리의 최말단 노드까지 복사되지 않는다.
- 겉 표면만 복사한다.
- 주소 값을 복사하기 때문에 참조하고 있는 실제 값이 같다.
- spread operator를 이용해 얕은 복사를 할수 있다.

### 깊은 복제 (Deep Clone)

- JSON.parse(JSON.stringify(obj))
  - JSON의 parse() 메서드와 stringify() 메서드를 연달아 호출하면 동일한 객체 트리를 가지는 새로운 객체가 복제된다.
- 내부의 모든 참조 관계까지 새로운 메모리에 복사한다.
- 실제 값을 독립적인 새로운 메모리 공간에 복사, 참조를 공유하지 않는다.
