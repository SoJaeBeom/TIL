bbㅠ## React HOC(Higher-Order Component)

- 고차 컴포넌트는 컴포넌트 로직을 재사용하기 위해 사용되고 컴포넌트를 가져와 새 컴포넌트를 반환하는 함수이다.
- 컴포넌트를 인자로 받거나 반환하는 함수이다.

## 고차 컴포넌트가 쓰이는 이유

- 횡단 관심사 문제를 해결하는데 쓰인다.
  > 횡단 관심사(Cross-cutting concerns) </br>
  > 비즈니스 로직과 구분되는 공통 기능 </br>
  > ex) 입금, 출금, 이체 기능이 은행 프로그램에서 관심사항이라고 할 때 보안처리, 예외처리, 로그 기록 등 모두 공통으로 들어가야 하는 로직

### 고차 컴포넌트를 사용하기 부적합한 경우

- 컴포넌트에 여러 가지 기능을 추가해야 한다.
- 오로지 한 개의 컴포넌트에서만 사용된다.
- 각 컴포넌트에 맞게 커스터마이징해야 한다.

### 고차 컴포넌트를 사용하기 적합한 경우

- 동작은 특정 컴포넌트에 한정되지 않고 앱의 많은 컴포넌트 또는 모든 컴포넌트에 적용되며,
  해당 동작을 사용하는 컴포넌트에 여러 가지 기능을 제공할 필요가 없다.
- 고차 컴포넌트 없이 독립적으로 사용할 수 있는 컴포넌트인 경우.
  고차 컴포넌트로 포장되는 컴포넌트에 사용자 지정 로직을 추가할 필요가 없다.

### 주의 사항

- render 메서드 안에서 고차 컴포넌트를 사용하면 안된다.
  - 컴포넌트의 정의 바깥에 HOC를 적용하여 컴포넌트가 한 번만 생성하도록 한다.
- 정적 메서드는 반드시 따로 복사해야 한다.
  - 메서드를 반환하기 전에 컨테이너에 복사한다.
  - hoist-non-react-statics를 사용하여 모든 non-React정적 메서드를 자동으로 복사한다.
  - 정적 메서드를 컴포넌트와 별도로 내보낸다.
- ref는 전달되지 않는다.
  - React.forwardRef Api를 사용한다.
