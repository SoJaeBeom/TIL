## 반응형 이미지 (Responsive Image)

- 화면 폭과 단말기(PC, 스마트폰 등)에 따라 이미지 변환

### 반응형 이미지가 중요한 이유

- 스마트폰 같은 작은 화면에 표시할 떄 5000 X 2500 같은 큰 이미지 파일을 보내면 의미 없는 통신 시간 때문에 사용자가 불편함을 겪는다.
- 스마트폰에 어울리는 작은 이미지를 PC로 열면 이미지가 흐릿해진다.
- 표시 장치에 따라 이미지를 바꿀 필요가 있다.(Responsive Image 필요)

### 일반적인 img src 사용법

```html
<img src="abc.jpg" />
```

- srcset을 사용하여 기기의 폭에 따라 다른 이미지를 표시한다.

```html
<img src="abc.jpg" srcset="abc1.jpg 1000w, abc2.jpg 2000w, abc3.jpg 3000w" />
<!-- 
  w는 픽셀 수 
  1000w = 1000 픽셀 폭의 이미지
  2000w = 2000 픽셀 폭의 이미지
  3000w = 3000 픽셀 폭의 이미지
-->
```

1. 이미지 자신이 폭(픽셀 수)을 브라우저에 전달한다.
2. 브라우저는 전달받은 정보를 바탕으로 어떤 이미지를 표시할지 선택한다.
3. 브라우저는 자신의 화면 너비와 이미지 폭을 비교한다.
4. 예를 들어 브라우저의 폭이 1920px이면 브라우저는 "1920px 너비 화면에 이미지를 표시해야지. 근데 이미지 픽셀 수가 부족하지 않을까?"라고 생각을 한다.
5. 1000w는 1000픽셀이라서 1920 화면에 표시하기엔 픽셀 수가 부족하다. -> 사용할 수 있지만 이미지가 깨진다.

- 프로세스의 픽셀 계산법
  - 1920px 화면 폭에 1000w 이미지 표시 = 1000 / 1920 = 0.52
  - 1920px 화면 폭에 2000w 이미지 표시 = 2000 / 1920 = 1.04
  - 1920px 화면 폭에 3000w 이미지 표시 = 3000 / 1920 = 1.56

6. 브라우저는 비율이 1이상이면서 가장 작은 이미지를 찾아 선택판다.

### sizes 사용법

- HTML 속성이다.

```html
<img
  src="abc.jpg"
  srcset="abc1.jpg 1000w, abc2.jpg 2000w, abc3.jpg 3000w"
  sizes="10vw"
/>
```

- sizes="10vw"에서 vw는 viewport width약자이다.
- 100vw가 화면을 가득 채운다고 했을 때의 비율을 나타낸다.
  - 10vw = 10vw / 100vw = 화면폭의 1/10
  - 50vw = 50vw / 100vw = 화면폭의 1/2
  - sizes=10vw는 "나는 화면폭의 1/10정도의 사진이다"라는 것을 전달한다.
  - 브라우저는 1920픽셀의 1/10인 192픽셀로 충분하다고 계산한다.
- sizes를 지정하지 않은 경우 기본값을 100vw이므로 "화면 너비에 딱 맞춰서 표시해줘"라고 전달한다.
