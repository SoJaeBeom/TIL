# 옵저버 패턴

- 주체가 어떤 객체의 상태 변화를 관찰하다가 상태 변화가 있을 때마다 메서드 등을 통해 옵저버 목록에 있는 옵저버들에게 변화를 알려주는 디자인 패턴이다.
- 주체란 객체의 상태 변화를 보고 있는 관찰자이다.
- 옵저버들이란 이 객체의 상태 변화에 따라 전달되는 메서드 등을 기반으로 추가 변화 사항이 생기는 객체들을 의미한다.
- 주로 이벤트 기반 시스템에 사용하며 MVC(Model-View-Controller) 패넡에도 사용된다.
- 주체라고 볼 수 있는 모델에서 변경 사항이 생겨 update() 메서드로 옵저버인 뷰에 알려주고 이를 기반으로 컨트롤러 등이 작동하는 것이다.

## 자바스크립트에서의 옵저버 패턴

- 자바스크립트에서의 옵저버 패턴은 프록시 객체를 통해 구현할 수 있다.

### 프록시 객체

- 어떠한 대상의 기본적인 동작(속성 접근, 할당, 순회, 열거, 함수 호출)의 작업을 가로챌 수 있는 객체를 뜻한다.
- 자바스크립트에서 프록시 객체는 두 개의 매개변수를 가진다.
  - target : 프록시할 대상
  - handler: 프록시 객체의 target 동작을 가로채서 정의할 동작들이 정해져 있는 함수

```js
const handler = {
  get: function (target, name) {
    return name === 'name' ? `${target.a} ${target.b}` : target[name];
  },
};

const p = new Proxy({ a: 'KUNDOL', b: ' IS AUMUMU ZANGIN' }, handler);

console.log(p.name);
```
