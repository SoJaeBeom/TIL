# 프록시 패턴

- 대상 객체에 접근하기 전 그 접근에 대한 흐름을 가로채 대상 객체 앞단의 인터페이스 역할을 하는 디자인 패턴이다.
- 객체의 속성, 변환 등을 보완하며 보안, 데이티 검증, 캐싱, 로깅에 사용한다.

> 프록시 서버에서의 캐싱
>
> - 캐시 안에 정보를 담아두고 캐시 안에 있는 정보를 요구하는 요청에 대해 다시 저 멀리 있는 원격 서버에 요청하지 않고 캐시 안에 있는 데이터를 활용하는 것이다.
> - 불필요하게 외부와 연결하지 않기 때문에 트래픽을 줄일 수 있다.

## 프록시 서버

- 서버와 클라이언트 사이에서 클라이언트가 자신을 통해 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해주는 컴퓨터 시스템이나 응용 프로그램을 가리킨다.

### 프록시 서버로 쓰는 nginx

- 비동기 이벤트 기반의 구조와 다수의 연결을 효과적으로 처리 가능한 웹 서버이며 주로 Node.js 서버 앞단의 프록시 서버로 활용된다.
- 익명 사용자의 직접적인 서버로의 접근을 차단하고 간접적으로 한 단계를 더 거침으로써 보안성을 더욱 강화할 수 있다.
- nginx를 프록시 서버로 둬서 실제 포트를 숨길 수 있고 정적 자원을 gzip압축하거나, 메인 서버 앞단에서의 로깅을 할 수도 있다.

> 버퍼 오버플로우
>
> - 버퍼는 보통 데이터가 저장되는 메모리 공간으로 메모리 공간을 벗어나는 경우를 말한다.
> - 사용되지 않아야 할 영역에 데이터가 덮어씌워져 주소, 값을 바꾸는 공격이 발생하기도 한다.

> gzip 압축
>
> - LZ77 과 Huffman코딩의 조합인 DEFLATE알고리즘을 기반으로 한 압축 기술이다.
> - gzip압축을 하면 데이터 전송량을 줄일 수 있지만 압축을 해제했을 때 서버에서의 CPU 오버헤드도 생각해서 gzip 압축 사용 유무를 결정해야한다.

### 프록시 서버로 쓰는 CloudFlare

- 전 세계적으로 분산된 서버가 있고 이를 통해 어떠한 시스템의 콘텐츠 전달을 빠르게 할 수 있는 CDN 서비스이다.
- CDN 말고도 CloudFlare를 통해 누릴 수 있는 이점은 DDOS 공격방어, HTTPS 구축이 있다.
- 웹 서버 앞단에 두어 프록시 서버로 쓰기 때문에 가능하다.
- 사용자, 크롤러, 공격자가 자신의 웹 사이트에 접속하게 될 텐데, 이때 CloudFlare를 통해 공격자로부터 보호할 수 있다.
